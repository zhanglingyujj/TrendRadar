name: Sync Template

on:
  # 允许手动触发
  workflow_dispatch:
  # 定时触发（例如每周一凌晨 0 点）
  schedule:
    - cron: "0 0 * * 1"

jobs:
  repo-sync:
    runs-on: ubuntu-latest
    # 如果你的仓库是私有的，需要配置相应的权限
    permissions:
      contents: write
      pull-requests: write
      workflows: write  # <--- 添加这一行，允许 Action 修改工作流文件

    steps:
      - name: Checkout
        uses: actions/checkout@v4

      - name: Actions Template Sync
        uses: AndreasAugustin/actions-template-sync@v2
        with:
          # 模板仓库的源（格式：用户名/仓库名）
          source_repo_path: sansan0/TrendRadar
          # 默认同步到当前仓库的主分支
          upstream_branch: main 
